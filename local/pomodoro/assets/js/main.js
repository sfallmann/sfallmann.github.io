!function(){function e(){s.currentTime=0,s.play()}function t(e){l.innerHTML=e[0],d.innerHTML=e[1],m.innerHTML=e[2],g.innerHTML=e[3]}function n(e){var t,n,r=["0","0","0","0"];if(e-10<0)r[3]=String(e);else if(e-10>-1&&e-60<0)t=String(e),r[2]=t[0],r[3]=t[1];else if(e>=60&&e<600)r[1]=String(Math.floor(e/60)),n=e%60,n<10?r[3]=String(n):(n=String(n),r[2]=n[0],r[3]=n[1]);else{var n=e%60;n<10?r[1]=String(n):(n=String(n),r[0]=n[0],r[1]=n[1])}return r}function r(e){var t;e.target.id;switch(e.target.id){case"start":i(u.innerHTML,a.innerHTML),c.disabled=!0;break;case"reset":o(),c.disabled=!1;break;case"work-btn-up":t=Number(document.querySelector("#work").innerHTML),t<60&&(t=String(t+1),document.querySelector("#work").innerHTML=t.length>1?t:"0"+String(t));break;case"rest-btn-up":t=Number(document.querySelector("#rest").innerHTML),t<60&&(t=String(t+1),document.querySelector("#rest").innerHTML=t.length>1?t:"0"+String(t));break;case"work-btn-down":t=Number(document.querySelector("#work").innerHTML),t>1&&(t=String(t-1),document.querySelector("#work").innerHTML=t.length>1?t:"0"+String(t));break;case"rest-btn-down":t=Number(document.querySelector("#rest").innerHTML),t>1&&(t=String(t-1),document.querySelector("#rest").innerHTML=t.length>1?t:"0"+String(t))}}function i(t,n){y.setDurations(t,n),e(),y.start()}function o(){y.reset()}var s=document.getElementById("alarm"),c=document.getElementById("start"),u=document.getElementById("work"),a=document.getElementById("rest"),l=document.getElementById("min-10s"),d=document.getElementById("min-1s"),m=document.getElementById("sec-10s"),g=document.getElementById("sec-1s"),h=document.getElementById("work-light"),S=document.getElementById("rest-light"),L=document.getElementById("control-panel"),b={counter:1,work:{duration:0},rest:{duration:0},phases:["work","rest"],timer:void 0,cb:function(){e(),h.classList.toggle("light-on"),S.classList.toggle("light-on")}},y=function(e){var r=Object.assign({},e),i=r.phases.shift(),o=r.counter;return r.phases.push(i),{setDurations:function(e,t){r.work.duration=60*Number(e),r.rest.duration=60*Number(t)},start:function(){r.counter=o,void 0!==r.timer&&clearInterval(r.timer),t(["0","0","0","1"]),S.classList.remove("light-on"),h.classList.add("light-on"),r.timer=setInterval(function e(){return r.counter>=r[i].duration&&(i=r.phases.shift(),r.phases.push(i),r.counter=0,r.cb()),r.counter++,t(n(r.counter)),e},1e3)},reset:function(){r.counter=o,void 0!==r.timer&&clearInterval(r.timer),t(["0","0","0","0"]),S.classList.remove("light-on"),h.classList.remove("light-on")}}}(b);L.addEventListener("click",r)}();